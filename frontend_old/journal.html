<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WellNest | Journal</title>
  <link rel="stylesheet" href="style.css">
  <style>
     .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #ffffffc9;
      padding: 1rem 2rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      backdrop-filter: blur(8px);
    }

    .logo {
      font-size: 1.7rem;
      color: var(--primary);
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .logo-svg {
      width: 40px;
      height: 40px;
    }

    nav ul { list-style: none; display: flex; gap: 1.5rem; margin: 0; padding: 0; }

    nav a {
      text-decoration: none;
      color: #334155;
      font-weight: 600;
      padding: 0.45rem 0.75rem;
      border-radius: 8px;
      transition: color 0.18s ease, background 0.18s ease, transform 0.12s ease;
      font-size: 0.95rem;
    }

    nav a:hover {
      color: #ffffff;
      background: #2e7d32;
      transform: translateY(-2px);
    }

    nav a.active { background: linear-gradient(90deg,#2e7d32,#81c784); color: #fff; }
    :root{--primary:#2e7d32;--muted:#6b7280;--bg:#f8faf7}
    body{font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;background:var(--bg);color:#0f172a;margin:0}
    .navbar{background:#fff;padding:1rem 2rem;box-shadow:0 2px 8px rgba(2,6,23,0.06);display:flex;justify-content:space-between;align-items:center}
    .logo{color:var(--primary);font-weight:700}
    .content{max-width:900px;margin:2.5rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 12px 30px rgba(2,6,23,0.06)}
    h2{color:var(--primary);margin-bottom:.25rem}
    p.lead{color:var(--muted);margin-bottom:1rem}
    form{margin-top:1rem}
    label{display:block;font-weight:600;margin-bottom:.5rem;color:#0f172a}
    textarea{width:100%;min-height:140px;padding:1rem;border:1px solid #e6eef0;border-radius:10px;font-size:1rem;color:#0b1720;resize:vertical}
    input[type=number]{width:100px;padding:.55rem;border:1px solid #e6eef0;border-radius:8px}
    .controls{display:flex;gap:1rem;align-items:center;margin-top:1rem;flex-wrap:wrap}
    .button{background:var(--primary);color:#fff;padding:.7rem 1.1rem;border-radius:8px;border:none;font-weight:600;cursor:pointer}
    .button.ghost{background:transparent;color:var(--primary);border:2px solid var(--primary)}
    #saveMsg{margin-left:.5rem;font-weight:600}
    #entries{margin-top:1.25rem}
    .entry-card{background:linear-gradient(180deg,rgba(46,125,50,0.03),transparent);padding:1rem;border-radius:8px;margin-bottom:.8rem;border-left:4px solid var(--primary)}
    .entry-card strong{display:block;color:var(--primary);margin-bottom:.25rem}
    @media(max-width:640px){.controls{flex-direction:column;align-items:stretch}input[type=number]{width:100%}}
  </style>

  <!-- Dark-theme overrides -->
  <style>
  [data-preferred-theme="dark"] body { background: linear-gradient(135deg,#071016,#0b1720); color: #d7e7e3; }
  [data-preferred-theme="dark"] .navbar { background: rgba(10,14,18,0.75); box-shadow: 0 2px 10px rgba(0,0,0,0.6); }
  [data-preferred-theme="dark"] .logo { color: #86e0b8 }
  [data-preferred-theme="dark"] nav a { color: #cfeee0 }
  [data-preferred-theme="dark"] nav a:hover { background: rgba(134,224,184,0.12); color: #fff }
  [data-preferred-theme="dark"] .content { background: rgba(12,18,22,0.6); color: #d7e7e3; box-shadow: 0 8px 24px rgba(0,0,0,0.6); }
  [data-preferred-theme="dark"] h2 { color: #86e0b8 }
  [data-preferred-theme="dark"] label { color: #d7e7e3 }
  [data-preferred-theme="dark"] textarea, [data-preferred-theme="dark"] input[type="number"] { background: #0f1f28; border: 1px solid rgba(126,227,198,0.12); color: #d7e7e3; }
  [data-preferred-theme="dark"] textarea:focus, [data-preferred-theme="dark"] input[type="number"]:focus { border-color: #86e0b8; box-shadow: 0 0 8px rgba(134,224,184,0.2); }
  [data-preferred-theme="dark"] .button { background: linear-gradient(90deg,#2aa77a,#57c69a); color: #03110b }
  [data-preferred-theme="dark"] .button.ghost { background: transparent; color: #a7e6c9; border-color: rgba(86,196,153,0.18) }
  [data-preferred-theme="dark"] .entry-card { background: linear-gradient(180deg,rgba(134,224,184,0.08),transparent); border-left-color: #7ee3c6; }
  [data-preferred-theme="dark"] .entry-card strong { color: #86e0b8 }
  </style>
</head>
<body>
 <header class="navbar">
    <h1 class="logo">
      <svg class="logo-svg" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 5C25.2 5 5 25.2 5 50s20.2 45 45 45 45-20.2 45-45S74.8 5 50 5zm0 80c-19.9 0-36-16.1-36-36s16.1-36 36-36 36 16.1 36 36-16.1 36-36 36z" fill="currentColor"/>
        <path d="M65 35c-4.4 0-8.3 2.3-10.5 5.7C52.3 37.3 48.4 35 44 35c-7.2 0-13 5.8-13 13 0 11.4 18.5 22 19 22s19-10.6 19-22c0-7.2-5.8-13-13-13zm-21 13c0-3.9 3.1-7 7-7s7 3.1 7 7h-14zm21 0h-14c0-3.9 3.1-7 7-7s7 3.1 7 7z" fill="currentColor"/>
      </svg>
      WellNest ðŸŒ¿
    </h1>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="journal.html">Journal</a></li>
        <li><a href="ai-insights.html">AI Insights</a></li>
        <li><a href="profile.html">Profile</a></li>
      </ul>
    </nav>
    <!-- Theme toggle -->
    <button id="theme-toggle" aria-label="Toggle theme" style="background:transparent;border:none;font-size:1.2rem;cursor:pointer;padding:8px;margin-left:12px">ðŸŒ™</button>
  </header>
  <div class="content">
    <h2>Journal</h2>
    <p>Write and review your mood & stress entries here.</p>
    <div style="max-width:700px;">
      <p class="lead">Write and review your mood & stress entries here. Your entries are stored locally in your browser for this demo.</p>
      <form id="journalForm">
        <div>
          <label for="entry">How are you feeling today?</label>
          <textarea id="entry" rows="6" placeholder="Write a few sentences about how you feel, what happened today, or anything you want to remember..."></textarea>
        </div>
        <div style="margin-top:10px; display:flex; gap:1rem; align-items:center; flex-wrap:wrap">
          <div style="flex:0 0 auto;">
            <label for="mood">Mood (1-10)</label>
            <input id="mood" type="number" min="1" max="10" placeholder="7">
          </div>
        </div>
        <div class="controls">
          <button class="button" type="submit">Save Entry</button>
          <button type="button" id="clearBtn" class="button ghost">Clear</button>
          <span id="saveMsg"></span>
        </div>
      </form>
      <div id="entries"></div>
    </div>
    <a class="button" href="index.html">Back to Home</a>
    <script>
      (function(){
        const form = document.getElementById('journalForm');
        const saveMsg = document.getElementById('saveMsg');
        const entriesDiv = document.getElementById('entries');
        const current = localStorage.getItem('wellnest_current_user');
        function render(){
          if(!current){ entriesDiv.innerHTML = '<p>Please log in to save entries.</p>'; return; }
          const journals = JSON.parse(localStorage.getItem('wellnest_journals_'+current) || '[]');
          if(journals.length===0){ entriesDiv.innerHTML = '<p>No entries yet.</p>'; return; }
          entriesDiv.innerHTML = '<ul>' + journals.slice().reverse().map(j=> '<li><strong>'+j.date+'</strong> (Mood: '+j.mood+') - '+ (j.text.length>120? j.text.slice(0,120)+'...': j.text) +'</li>').join('') + '</ul>';
        }
        form.addEventListener('submit', function(e){
          e.preventDefault();
          if(!current){ saveMsg.style.color='red'; saveMsg.textContent='Please log in first.'; return; }
          const text = document.getElementById('entry').value.trim();
          const mood = document.getElementById('mood').value || '';
          if(!text){ saveMsg.style.color='red'; saveMsg.textContent='Please write something.'; return; }
          const key = 'wellnest_journals_'+current;
          const arr = JSON.parse(localStorage.getItem(key)||'[]');
          const item = { date: new Date().toLocaleString(), text, mood };
          arr.push(item);
          localStorage.setItem(key, JSON.stringify(arr));
          saveMsg.style.color='green'; saveMsg.textContent='Saved.';
          document.getElementById('entry').value=''; document.getElementById('mood').value='';
          render();
        });
        render();
      })();
    </script>
  </div>

<!-- Theme script: remembers preference and respects system preference -->
<script>
  (function(){
    const root = document.documentElement;
    const toggle = document.getElementById('theme-toggle');
    const stored = localStorage.getItem('preferred-theme');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const current = stored || (prefersDark ? 'dark' : 'light');
    root.setAttribute('data-preferred-theme', current);
    function updateToggle(){ if(!toggle) return; toggle.textContent = root.getAttribute('data-preferred-theme') === 'dark' ? 'ðŸŒ™' : 'â˜€ï¸'; toggle.classList.toggle('is-dark', root.getAttribute('data-preferred-theme') === 'dark'); }
    if(toggle){ toggle.addEventListener('click', ()=>{ const next = root.getAttribute('data-preferred-theme') === 'dark' ? 'light' : 'dark'; root.setAttribute('data-preferred-theme', next); localStorage.setItem('preferred-theme', next); updateToggle(); }); }
    updateToggle();
  })();
</script>
</body>
</html>
